{"version":3,"file":"vueServerMain.js","sources":["../node_modules/vscode-languageserver/lib/common/utils/is.js","../node_modules/vscode-jsonrpc/lib/common/ral.js","../node_modules/vscode-jsonrpc/lib/common/disposable.js","../node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","../node_modules/vscode-jsonrpc/lib/node/ril.js","../node_modules/vscode-languageserver-types/lib/esm/main.js","../node_modules/vscode-jsonrpc/lib/common/is.js","../node_modules/vscode-jsonrpc/lib/common/messages.js","../node_modules/vscode-jsonrpc/lib/common/events.js","../node_modules/vscode-jsonrpc/lib/common/cancellation.js","../node_modules/vscode-jsonrpc/lib/common/messageReader.js","../node_modules/vscode-jsonrpc/lib/common/semaphore.js","../node_modules/vscode-jsonrpc/lib/common/messageWriter.js","../node_modules/vscode-jsonrpc/lib/common/linkedMap.js","../node_modules/vscode-jsonrpc/lib/common/connection.js","../node_modules/vscode-jsonrpc/lib/common/api.js","../node_modules/vscode-jsonrpc/lib/node/main.js","../node_modules/vscode-jsonrpc/node.js","../node_modules/vscode-languageserver-protocol/lib/common/messages.js","../node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","../node_modules/vscode-languageserver-protocol/lib/common/protocol.js","../node_modules/vscode-languageserver-protocol/lib/common/connection.js","../node_modules/vscode-languageserver-protocol/lib/common/api.js","../node_modules/vscode-languageserver-protocol/lib/node/main.js","../node_modules/vscode-languageserver/lib/common/utils/uuid.js","../node_modules/vscode-languageserver/lib/common/progress.js","../node_modules/vscode-languageserver/lib/common/configuration.js","../node_modules/vscode-languageserver/lib/common/workspaceFolders.js","../node_modules/vscode-languageserver/lib/common/callHierarchy.js","../node_modules/vscode-languageserver/lib/common/semanticTokens.js","../node_modules/vscode-languageserver/lib/common/showDocument.js","../node_modules/vscode-languageserver/lib/common/fileOperations.js","../node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","../node_modules/vscode-languageserver/lib/common/moniker.js","../node_modules/vscode-languageserver/lib/common/server.js","../node_modules/vscode-languageserver/lib/node/files.js","../node_modules/vscode-languageserver-protocol/node.js","../node_modules/vscode-languageserver/lib/common/api.js","../node_modules/vscode-languageserver/lib/node/main.js","../src/vueServerMain.ts"],"sourcesContent":["\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            return setTimeout(callback, ms, ...args);\n        },\n        clearTimeout(handle) {\n            clearTimeout(handle);\n        },\n        setImmediate(callback, ...args) {\n            return setImmediate(callback, ...args);\n        },\n        clearImmediate(handle) {\n            clearImmediate(handle);\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return typeof candidate === 'string';\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \" + id + \" is already in use.\");\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \" + id);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isResponseMessage = exports.isNotificationMessage = exports.isRequestMessage = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = ErrorCodes.jsonrpcReservedErrorRangeStart;\n    ErrorCodes.MessageWriteError = -32099;\n    ErrorCodes.MessageReadError = -32098;\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = ErrorCodes.jsonrpcReservedErrorRangeEnd;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        return {\n            code: this.code,\n            message: this.message,\n            data: this.data,\n        };\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\n/**\n * Tests if the given message is a request message\n */\nfunction isRequestMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n}\nexports.isRequestMessage = isRequestMessage;\n/**\n * Tests if the given message is a notification message\n */\nfunction isNotificationMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && message.id === void 0;\n}\nexports.isNotificationMessage = isNotificationMessage;\n/**\n * Tests if the given message is a response message\n */\nfunction isResponseMessage(message) {\n    const candidate = message;\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n}\nexports.isResponseMessage = isResponseMessage;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                ral_1.default().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = ral_1.default().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { ral_1.default().timer.clearTimeout(handle); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        var _a;\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options !== null && options !== void 0 ? options : 'utf-8';\n        }\n        else {\n            charset = (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = ral_1.default().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = ral_1.default().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            ral_1.default().timer.clearTimeout(this.partialMessageTimer);\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = ral_1.default().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        ral_1.default().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        var _a, _b;\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options !== null && options !== void 0 ? options : 'utf-8', contentTypeEncoder: ral_1.default().applicationJson.encoder };\n        }\n        else {\n            return { charset: (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: (_b = options.contentTypeEncoder) !== null && _b !== void 0 ? _b : ral_1.default().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[Symbol.toStringTag] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        var _a;\n        return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    get last() {\n        var _a;\n        return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.NullLogger = exports.ProgressType = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSquenceNumber = 0;\n    let unknownResponseSquenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = Object.create(null);\n    let starNotificationHandler = undefined;\n    const notificationHandlers = Object.create(null);\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = Object.create(null);\n    let requestTokens = Object.create(null);\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSquenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.isRequestMessage(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.isResponseMessage(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = ral_1.default().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.isRequestMessage(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.isNotificationMessage(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.isResponseMessage(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\n                const key = createRequestQueueKey(message.params.id);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.isRequestMessage(toCancel)) {\n                    const strategy = options === null || options === void 0 ? void 0 : options.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response);\n                        return;\n                    }\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers[requestMessage.method];\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = String(requestMessage.id);\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            requestTokens[tokenKey] = cancellationSource;\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but recevied none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    delete requestTokens[tokenKey];\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        delete requestTokens[tokenKey];\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        delete requestTokens[tokenKey];\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    delete requestTokens[tokenKey];\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                delete requestTokens[tokenKey];\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = String(responseMessage.id);\n            const responsePromise = responsePromises[key];\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise) {\n                delete responsePromises[key];\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            notificationHandler = (params) => {\n                const id = params.id;\n                const source = requestTokens[String(id)];\n                if (source) {\n                    source.cancel();\n                }\n            };\n        }\n        else {\n            const element = notificationHandlers[message.method];\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but recevied none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        if (type !== undefined) {\n                            if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                            }\n                            if (type.numberOfParams !== message.params.length) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${message.params.length} argumennts`);\n                            }\n                        }\n                        notificationHandler(...message.params);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = String(responseMessage.id);\n            const responseHandler = responsePromises[key];\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n                break;\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Recevied parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            messageWriter.write(notificationMessage);\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers[type] = { type: undefined, handler };\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        delete notificationHandlers[method];\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    cancellationStrategy.sender.sendCancellation(connection, id);\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage);\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises[String(id)] = responsePromise;\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers[type] = { handler: handler, type: undefined };\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        delete requestHandlers[method];\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new Error('Connection got disposed.');\n            Object.keys(responsePromises).forEach((key) => {\n                responsePromises[key].reject(error);\n            });\n            responsePromises = Object.create(null);\n            requestTokens = Object.create(null);\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            ral_1.default().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.ProgressType = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.RAL = void 0;\nexports.CancellationStrategy = void 0;\nconst messages_1 = require(\"../common/messages\");\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst disposable_1 = require(\"../common/disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"../common/events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"../common/cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"../common/messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"../common/messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"../common/connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super(ril_1.default().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super(ril_1.default().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super(ril_1.default().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super(ril_1.default().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        ril_1.default().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = net_1.createConnection(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = net_1.createConnection(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return api_1.createMessageConnection(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n// let x: ProtocolNotificationType<number, { value: number}>;\n// let y: ProtocolNotificationType<string, { value: number}>;\n// x = y;\n//# sourceMappingURL=messages.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolders.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = exports.FoldingRangeKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Enum of known range kinds\n */\nvar FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to a incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel[\"document\"] = \"document\";\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel[\"project\"] = \"project\";\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel[\"group\"] = \"group\";\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel[\"scheme\"] = \"scheme\";\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel[\"global\"] = \"global\";\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind[\"import\"] = \"import\";\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind[\"export\"] = \"export\";\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind[\"local\"] = \"local\";\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeError = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.DocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = void 0;\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokenTypes\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenTypes; } });\nObject.defineProperty(exports, \"SemanticTokenModifiers\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenModifiers; } });\nObject.defineProperty(exports, \"SemanticTokens\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokens; } });\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The DocumentFilter namespace provides helper functions to work with\n * [DocumentFilter](#DocumentFilter) literals.\n */\nvar DocumentFilter;\n(function (DocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    DocumentFilter.is = is;\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeError`;\n */\nvar InitializeError;\n(function (InitializeError) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeError.unknownProtocolVersion = 1;\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return vscode_jsonrpc_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    LSPErrorCodes.ContentModified = -32801;\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return node_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            var _a;\n            if (((_a = capabilities === null || capabilities === void 0 ? void 0 : capabilities.window) === null || _a === void 0 ? void 0 : _a.workDoneProgress) === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = uuid_1.generateUuid();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                return Array.isArray(arg) ? result : result[0];\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        initialize(capabilities) {\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolders.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            const prevDataLength = this._prevData.length;\n            const dataLength = this._data.length;\n            let startIndex = 0;\n            while (startIndex < dataLength && startIndex < prevDataLength && this._prevData[startIndex] === this._data[startIndex]) {\n                startIndex++;\n            }\n            if (startIndex < dataLength && startIndex < prevDataLength) {\n                // Find end index\n                let endIndex = 0;\n                while (endIndex < dataLength && endIndex < prevDataLength && this._prevData[prevDataLength - 1 - endIndex] === this._data[dataLength - 1 - endIndex]) {\n                    endIndex++;\n                }\n                const newData = this._data.slice(startIndex, dataLength - endIndex);\n                const result = {\n                    resultId: this.id,\n                    edits: [\n                        { start: startIndex, deleteCount: prevDataLength - endIndex - startIndex, data: newData }\n                    ]\n                };\n                return result;\n            }\n            else if (startIndex < dataLength) {\n                return { resultId: this.id, edits: [\n                        { start: startIndex, deleteCount: 0, data: this._data.slice(startIndex) }\n                    ] };\n            }\n            else if (startIndex < prevDataLength) {\n                return { resultId: this.id, edits: [\n                        { start: startIndex, deleteCount: prevDataLength - startIndex }\n                    ] };\n            }\n            else {\n                return { resultId: this.id, edits: [] };\n            }\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n//# sourceMappingURL=showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n//# sourceMappingURL=fileOperations.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n//# sourceMappingURL=moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = exports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * A manager for simple text documents\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._documents = Object.create(null);\n        this._configuration = configuration;\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._documents[uri];\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Object.keys(this._documents).map(key => this._documents[key]);\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Object.keys(this._documents);\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Full;\n        connection.onDidOpenTextDocument((event) => {\n            let td = event.textDocument;\n            let document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._documents[td.uri] = document;\n            let toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        });\n        connection.onDidChangeTextDocument((event) => {\n            let td = event.textDocument;\n            let changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            let document = this._documents[td.uri];\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            document = this._configuration.update(document, changes, version);\n            this._documents[td.uri] = document;\n            this._onDidChangeContent.fire(Object.freeze({ document }));\n        });\n        connection.onDidCloseTextDocument((event) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document) {\n                delete this._documents[event.textDocument.uri];\n                this._onDidClose.fire(Object.freeze({ document }));\n            }\n        });\n        connection.onWillSaveTextDocument((event) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document) {\n                this._onWillSave.fire(Object.freeze({ document, reason: event.reason }));\n            }\n        });\n        connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        });\n        connection.onDidSaveTextDocument((event) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document) {\n                this._onDidSave.fire(Object.freeze({ document }));\n            }\n        });\n    }\n}\nexports.TextDocuments = TextDocuments;\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = showDocument_1.ShowDocumentFeature(progress_1.ProgressFeature(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method);\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = fileOperations_1.FileOperationsFeature(workspaceFolders_1.WorkspaceFoldersFeature(configuration_1.ConfigurationFeature(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data);\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return progress_1.attachWorkDone(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return progress_1.attachPartialResult(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = moniker_1.MonikerFeature(linkedEditingRange_1.LinkedEditingRangeFeature(semanticTokens_1.SemanticTokensFeature(callHierarchy_1.CallHierarchyFeature(_LanguagesImpl))));\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            if (arguments.length === 1) {\n                connection.sendNotification(method);\n            }\n            else {\n                connection.sendNotification(method, param);\n            }\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => initializeHandler = handler,\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => shutdownHandler = handler,\n        onExit: (handler) => exitHandler = handler,\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, progress_1.attachWorkDone(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n//# sourceMappingURL=server.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = require(\"url\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    let parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    let segments = parsed.path.split('/');\n    for (var i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        let first = segments[0];\n        let second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        let env = process.env;\n        let newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            let cp = child_process_1.fork('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            let message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let stdout = child_process_1.spawnSync(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        let prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    let options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let results = child_process_1.spawnSync(yarnCommand, ['global', 'dir', '--json'], options);\n        let stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        let lines = stdout.trim().split(/\\r?\\n/);\n        for (let line of lines) {\n            try {\n                let yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n//# sourceMappingURL=files.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features'\n    };\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst Is = require(\"../common/utils/is\");\nconst server_1 = require(\"../common/server\");\nconst fm = require(\"./files\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files = exports.Files || (exports.Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            let processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        let arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            let args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    if (!input && !output && process.argv.length > 2) {\n        let port = void 0;\n        let pipeName = void 0;\n        let argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            let arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                var args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            let transport = node_1.createServerSocketTransport(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            let transport = node_1.createServerPipeTransport(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        let inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = node_1.createProtocolConnection(input, output, logger, options);\n        return result;\n    };\n    return server_1.createConnection(connectionFactory, watchDog, factories);\n}\n//# sourceMappingURL=main.js.map","import { createConnection, InitializeParams, InitializeResult } from 'vscode-languageserver/node';\nimport { VLS } from './services/vls';\n\nconst connection = process.argv.length <= 2 ? createConnection(process.stdin, process.stdout) : createConnection();\n\nconsole.log = (...args: any[]) => connection.console.log(args.join(' '));\nconsole.error = (...args: any[]) => connection.console.error(args.join(' '));\n\nconst vls = new VLS(connection);\nconnection.onInitialize(\n  async (params: InitializeParams): Promise<InitializeResult> => {\n    await vls.init(params);\n\n    console.log('Vetur initialized');\n\n    return {\n      capabilities: vls.capabilities\n    };\n  }\n);\n\nvls.listen();\n"],"names":["string","value","String","func","array","Array","isArray","Object","defineProperty","exports","Number","Error","every","elem","check","then","_ral","RAL","undefined","install","ral","Disposable","create","dispose","[object Object]","encoding","this","_encoding","_chunks","_totalLength","chunk","toAppend","fromString","push","byteLength","length","state","chunkIndex","offset","chunkBytesRead","row","buffer","_read","result","Map","headers","toString","split","i","header","index","indexOf","key","substr","trim","set","numberOfBytes","byteCount","emptyBuffer","shift","asNative","slice","allocNative","resultOffset","chunkPart","MessageBuffer","messageBuffer_1","AbstractMessageBuffer","super","Buffer","from","util_1","TextDecoder","decode","allocUnsafe","ReadableStreamWrapper","stream","listener","on","disposable_1","off","WritableStreamWrapper","data","Promise","resolve","reject","callback","error","write","end","_ril","freeze","messageBuffer","applicationJson","encoder","name","encode","msg","options","JSON","stringify","charset","err","decoder","parse","asReadableStream","asWritableStream","console","timer","setTimeout","ms","args","handle","clearTimeout","setImmediate","clearImmediate","RIL","ral_1","default","integer","uinteger","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","ErrorCodes","ParseError","InvalidRequest","MethodNotFound","InvalidParams","InternalError","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageWriteError","MessageReadError","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","ResponseError","code","message","is","number","setPrototypeOf","prototype","ParameterStructures","kind","auto","byName","byPosition","AbstractMessageSignature","method","numberOfParams","parameterStructures","_parameterStructures","candidate","id","Event","_disposable","None","CallbackList","context","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","splice","ret","callbacks","contexts","apply","e","Emitter","_options","event","_event","thisArgs","disposables","onFirstListenerAdd","isEmpty","add","_noop","onLastListenerRemove","invoke","call","CancellationToken","isCancellationRequested","onCancellationRequested","events_1","Cancelled","Is","boolean","shortcutEvent","bind","MutableToken","_isCancelled","_emitter","fire","token","_token","cancel","ResolvedMessageReaderOptions","MessageReader","listen","onError","onClose","onPartialMessage","AbstractMessageReader","errorEmitter","closeEmitter","partialMessageEmitter","asError","info","fromOptions","_a","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","readable","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimeout","timeout","partialMessageTimer","onData","fireError","fireClose","append","tryReadHeaders","contentLength","get","parseInt","isNaN","body","tryReadBody","setPartialMessageTimer","p","clearPartialMessageTimer","firePartialMessage","waitingTime","capacity","_capacity","_active","_waiting","thunk","runNext","active","doRunNext","next","ResolvedMessageWriterOptions","MessageWriter","AbstractMessageWriter","count","_b","contentTypeEncoder","contentEncoder","writable","errorCount","writeSemaphore","semaphore_1","Semaphore","lock","async","doWrite","join","handleError","Touch","First","AsOld","Last","AsNew","LinkedMap","Symbol","toStringTag","_map","_head","_tail","_size","_state","clear","size","first","last","has","touch","item","previous","addItemLast","addItemFirst","delete","removeItem","callbackfn","thisArg","current","map","iterator","done","entries","newSize","currentSize","forEach","limit","ratio","_limit","_ratio","Math","min","max","checkTrim","trimOld","round","CancelNotification","ProgressNotification","StarRequestHandler","Trace","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionStrategy","CancellationReceiverStrategy","CancellationSenderStrategy","CancellationStrategy","ConnectionState","type","messages_1","NotificationType","warn","log","Off","toLowerCase","Messages","Verbose","Text","ConnectionError","cancelUndispatched","Message","createCancellationTokenSource","_","cancellation_1","CancellationTokenSource","conn","sendNotification","sendCancellation","cleanup","receiver","sender","ConnectionOptions","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","NullLogger","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","version","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","linkedMap_1","responsePromises","requestTokens","trace","traceFormat","New","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","addMessageToQueue","queue","isRequestMessage","isResponseMessage","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","requestMessage","reply","resultOrError","startTime","jsonrpc","toJson","traceSendingResponse","replyError","replySuccess","params","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","Date","now","tokenKey","cancellationSource","handlerResult","promise","handleRequest","isNotificationMessage","notificationHandler","source","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","toCancel","strategy","response","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","disposable","r","traceSendingRequest","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","keys","AlreadyListening","throwIfListening","inspect","verbose","enumerable","RequestType","RequestType0","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","messageReader_1","ReadableStreamMessageReader","messageWriter_1","WriteableStreamMessageWriter","connection_1","createMessageConnection","ProgressType","__createBinding","o","m","k","k2","__exportStar","hasOwnProperty","ril_1","api_1","IPCMessageReader","process","eventEmitter","IPCMessageWriter","send","SocketMessageReader","socket","SocketMessageWriter","destroy","StreamMessageReader","readble","StreamMessageWriter","XDG_RUNTIME_DIR","env","safeIpcPathLengths","randomSuffix","crypto_1","randomBytes","platform","path","os","tmpdir","pipeName","connectResolve","connected","_reject","server","net_1","createServer","close","removeListener","onConnected","createConnection","port","input","output","reader","read","addListener","isReadableStream","writer","isWritableStream","require$$0","MIN_VALUE","MAX_VALUE","line","character","objectLiteral","one","two","three","four","start","uri","range","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","label","textEdit","additionalTextEdits","typedArray","startLine","endLine","startCharacter","endCharacter","location","Warning","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","codeDescription","title","command","_i","arguments","replace","newText","insert","position","del","needsConfirmation","description","annotation","annotationId","textDocument","edits","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","change","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","DocumentSymbol","CodeActionKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","TextEditChangeImpl","changeAnnotations","edit","assertChangeAnnotations","manage","all","ChangeAnnotations","annotations","_annotations","_counter","configurable","idOrAnnotation","nextId","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","languageId","text","PlainText","Markdown","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","items","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","Namespace","Package","Boolean","Key","Null","containerName","detail","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","diagnostics","only","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","target","parent","TextDocument","mergeSort","compare","left","right","leftIdx","rightIdx","content","FullTextDocument","lineCount","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","a","b","diff","lastModifiedOffset","startOffset","endOffset","substring","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","ch","charAt","low","high","mid","floor","lineOffset","nextLineOffset","ProtocolRequestType0","vscode_jsonrpc_1","ProtocolRequestType","ProtocolNotificationType0","ProtocolNotificationType","ImplementationRequest","TypeDefinitionRequest","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","ConfigurationRequest","DocumentColorRequest","ColorPresentationRequest","FoldingRangeRequest","DeclarationRequest","SelectionRangeRequest","WorkDoneProgress","WorkDoneProgressCreateRequest","WorkDoneProgressCancelNotification","CallHierarchyPrepareRequest","CallHierarchyIncomingCallsRequest","CallHierarchyOutgoingCallsRequest","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokensRegistrationType","SemanticTokensRequest","SemanticTokensDeltaRequest","SemanticTokensRangeRequest","SemanticTokensRefreshRequest","SemanticTokens","resultId","TokenFormat","Relative","RegistrationType","ShowDocumentRequest","LinkedEditingRangeRequest","FileOperationPatternKind","WillCreateFilesRequest","DidCreateFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","DidDeleteFilesNotification","WillDeleteFilesRequest","file","folder","UniquenessLevel","MonikerKind","MonikerRequest","DocumentFilter","DocumentSelector","ResourceOperationKind","FailureHandlingKind","WorkDoneProgressOptions","MessageType","TextDocumentSyncKind","DidOpenTextDocumentNotification","TextDocumentContentChangeEvent","DidChangeTextDocumentNotification","DidCloseTextDocumentNotification","DidSaveTextDocumentNotification","TextDocumentSaveReason","WillSaveTextDocumentNotification","WillSaveTextDocumentWaitUntilRequest","FileChangeType","WatchKind","CompletionTriggerKind","CompletionRequest","CompletionResolveRequest","HoverRequest","SignatureHelpTriggerKind","SignatureHelpRequest","DefinitionRequest","ReferencesRequest","DocumentHighlightRequest","DocumentSymbolRequest","CodeActionRequest","CodeActionResolveRequest","WorkspaceSymbolRequest","CodeLensRequest","CodeLensResolveRequest","CodeLensRefreshRequest","DocumentLinkRequest","DocumentLinkResolveRequest","DocumentFormattingRequest","DocumentRangeFormattingRequest","DocumentOnTypeFormattingRequest","RenameRequest","PrepareRenameRequest","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","scheme","pattern","RegistrationRequest","UnregistrationRequest","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","StaticRegistrationOptions","hasId","TextDocumentRegistrationOptions","documentSelector","workDoneProgress","hasWorkDoneProgress","InitializeRequest","InitializeError","unknownProtocolVersion","InitializedNotification","ShutdownRequest","ExitNotification","DidChangeConfigurationNotification","Info","Log","ShowMessageNotification","ShowMessageRequest","LogMessageNotification","TelemetryEventNotification","Full","Incremental","isIncremental","rangeLength","isFull","Manual","AfterDelay","FocusOut","DidChangeWatchedFilesNotification","Created","Changed","Deleted","Change","PublishDiagnosticsNotification","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","PrepareSupportDefaultBehavior","Identifier","ExecuteCommandRequest","ApplyWorkspaceEditRequest","LSPErrorCodes","require$$1","require$$2","require$$3","createProtocolConnection","lspReservedErrorRangeStart","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","node_1","ValueUUID","other","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","random","_chars","v4","_UUIDPattern","isUUID","test","WorkDoneProgressReporterImpl","_connection","Instances","percentage","cancellable","vscode_languageserver_protocol_1","arg0","arg1","WorkDoneProgressServerReporterImpl","_source","NullProgressReporter","NullProgressServerReporter","workDoneToken","ResultProgress","Base","_progressSupported","capabilities","window","progress","uuid_1","generateUuid","ResultProgressReporterImpl","partialResultToken","arg","_getConfiguration","section","workspaceCapabilities","workspace","workspaceFolders","_onDidChangeWorkspaceFolders","onDidChangeWorkspaceFolders","_unregistration","client","register","callHierarchy","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","semanticTokens","onDelta","onRange","_prevData","initialize","_id","_prevLine","_prevChar","_data","_dataLen","char","tokenType","tokenModifiers","pushLine","pushChar","prevDataLength","dataLength","startIndex","endIndex","newData","deleteCount","build","moniker","null2Undefined","configuration","_documents","_configuration","_onDidChangeContent","_onDidOpen","_onDidClose","_onDidSave","_onWillSave","onDidChangeContent","onDidOpen","onWillSave","_willSaveWaitUntil","onDidSave","onDidClose","__textDocumentSync","onDidOpenTextDocument","td","toFire","onDidChangeTextDocument","contentChanges","onDidCloseTextDocument","onWillSaveTextDocument","reason","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","_messages","showErrorMessage","RemoteConsoleImpl","_rawConnection","_capabilities","RemoteWindowImpl","showDocument_1","ShowDocumentFeature","progress_1","ProgressFeature","actions","BulkRegistration","BulkRegistrationImpl","_registrations","_registered","Set","registerOptions","UUID","registrations","BulkUnregistration","BulkUnregistrationImpl","unregistrations","_unregistrations","unregistration","isAttached","values","unregisterations","_error","RemoteClientImpl","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","attach","_result","unregisterSingle","asRegistrationParams","registration","RemoteWorkspaceImpl","fileOperations_1","FileOperationsFeature","workspaceFolders_1","WorkspaceFoldersFeature","configuration_1","ConfigurationFeature","paramOrEdit","TracerImpl","_trace","TelemetryImpl","_LanguagesImpl","attachWorkDone","attachPartialResult","LanguagesImpl","moniker_1","MonikerFeature","linkedEditingRange_1","LinkedEditingRangeFeature","semanticTokens_1","SemanticTokensFeature","callHierarchy_1","CallHierarchyFeature","combineConsoleFeatures","combineTelemetryFeatures","combineTracerFeatures","combineClientFeatures","combineWindowFeatures","combineWorkspaceFeatures","combine","__brand","telemetry","connectionFactory","watchDog","factories","rawAttach","remoteWindow","languages","allRemotes","asPromise","thenable","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onInitialize","onInitialized","onShutdown","onExit","onDidChangeConfiguration","onDidChangeWatchedFiles","sendDiagnostics","onHover","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onCodeAction","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentFormatting","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","onExecuteCommand","remote","textDocumentSync","fillServerCapabilities","shutdownReceived","exit","isWindows","moduleName","nodePath","cwd","app","newEnv","fs","existsSync","delimiter","cp","child_process_1","fork","execArgv","pid","c","s","resolveGlobalNodePath","npmCommand","shell","stdout","spawnSync","prefix","FileSystem","parsed","url","protocol","segments","decodeURIComponent","second","normalize","yarnCommand","results","stderr","lines","yarn","_isCaseSensitive","isCaseSensitive","__filename","toUpperCase","isParent","child","workspaceRoot","isAbsolute","SemanticTokensBuilder","ProposedFeatures","Files","uriToFilePath","fm","resolveGlobalYarnPath","resolveModulePath","_shutdownReceived","exitTimer","argName","runTimer","processId","setInterval","kill","ex","argv","setupExitTimer","arg2","arg3","arg4","stdin","transport","createServerSocketTransport","createServerPipeTransport","commandLineMessage","inputStream","server_1","_createConnection","vls","VLS","init"],"mappings":"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"}